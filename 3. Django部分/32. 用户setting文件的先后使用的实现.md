# 用户setting文件的先后使用的实现

```python
'''
实现的目标：就是在用户自己配置了settings.py，如果里面的配置对象与默认的配置文件相同，就使用用户自己的。否则就用默认的。

'''



步骤一：创建两个Python的文件夹(含有init.py文件)，一个是默认的conf 还有一个是用户的usersetting
       和一个启动文件 text.py 

步骤二：在conf文件夹中创建一个py文件，默认配置的作用。 例如：globalsettings.py 
       里面写一条数据： DEBUG = False
       
步骤三：在usersetting文件夹中创建一个py文件，默认配置的作用。 例如：setting.py 
       里面写一条数据： DEBUG = Ture
    
步骤四： 在启动文件text.py里面写:
       import os
        
       #将setting.py 这个文件配置到环境变量里面，重名为user_setting，在conf文件夹里面的init文件用                                                                                       
       os.environ.setdefault('user_setting','usersetting.setting')
        
       #导入默认配置init.py 里面的settings对象
       from conf import settings
       
       #检验此时的DEBUG值
       print(settings.DEBUG)
    
 

步骤五：在conf文件夹里面的init.py文件写：

import os
import importlib
from conf import globalsetting

"""
先获取默认的setting文件里面的值，然后在获取用户自发定义里面的值，
如果数据重复的话，用户里面的相同数据会覆盖，默认文件里面的数据。 
"""

class Setting:
    
    def __init__(self):

        #得到环境变量里面的用户的数据
        user_setting = os.environ.get('user_setting')
        
        #dir(globalsetting）会循环globalsetting.py 文件里面的数据。
        for setting in dir(globalsetting):
            if setting.isupper():
                setattr(self, setting, getattr(globalsetting, setting))
                
        #会建立一个路径，使得后面的dir可以得到用户配置的setting.py里面的数据
        mod = importlib.import_module(user_setting)
        print(mod)
        for setting in dir(mod):
            if setting.isupper():
                setattr(self, setting, getattr(mod, setting))

#实例化得到settings的对象，给启动文件使用。 
settings = Setting()

```

