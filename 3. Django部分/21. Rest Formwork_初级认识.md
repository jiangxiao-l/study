# 21、Rest Formwork的初级认识

## 一、drf的认识

```
-- APIView类继承了view，重写了dispatch方法（里面有注册权限频率），继承了as_view的方法。

-- 全称：django rest framework

-- 它是一个app,要在咱的项目中用

-- 只是快速的构建resful规范的接口

-- 重点掌握这三点:
		-request.data 是个方法,包装成了属性,前台传过来body体中数据的数据,放在里面
		-request.query_params  这个是原来GET中的数据
		-request把原来的request包装进去了
```

## 二、drf的简单使用

```python
 -- 1. 现在这个request对象,已经不是原来django中的request对象了,
        它是# rest_framework.request下的Request
   
 -- 2. 原来的djagno中的request的类:  # django.core.handlers.wsgi.WSGIRequest
              现在的request已经成了: # rest_framework.request.Request
                
 -- 3. 以后再取数据,直接从request.data中取

-- 4.  前端传过来的编码格式:json格式:{'name': '水都是', 'price': '15'}
       前端传过来的编码格式:urlencoded格式:<QueryDict: {'name': ['红楼梦'], 'price':                                                             ['15']}> 
       # request.data不同编码格式过来,它可能是不同类的对象,但是用法是一样的
    
    
-- 5.  原来的request是:# request._request(可以继续点get|post等方式)
    
          

class Books(APIView):
 
    def put(self, request, pk):
   
            # 以后再取数据,直接从request.data中取
            print(request.data)
            # 前端传过来的编码格式:json格式:{'name': '水都是', 'price': '15'}
            # 前端传过来的编码格式:urlencoded格式:<QueryDict: {'name': ['红楼                   梦'], 'price': ['15']}>
            # request.data是谁的对象?
            # request.data不同编码格式过来,它可能是不同类的对象,但是用法是一样的


            # 原来的request是:request._request
            print(type(request._request))

            print(request._request.GET)
            # 也能取出来(method,GET,POST,BODY)
            print(request.GET)

            return JsonResponse({'status': 100, 'msg': '修改成功'})
  
```

